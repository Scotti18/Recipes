{% extends "layout.html" %}

{% block title %}
Index
{% endblock %}

{% block main %}

<style>
    .recipe_header {
        display: flex;
        margin: auto;
        max-width: 800px;
        margin-top: 50px;
        margin-bottom: 50px;
    }

    .recipe_title {
        flex: 1;
        margin-right: 30px;
    }

    .recipe_image {
        flex: 1;
    }

    .recipe_image img {
        width: 100%;
        height: 100%;
        max-height: 400px;
        max-width: 270px;
        margin-left: auto;
        margin-right: auto;
        display: block;
    }

    .delete_button {
        margin-top: 15px;
    }

    #recipe_url {
        margin: 0px 10px 10px 0px;
        display: inline-block;
    }

    @media (max-width: 750px) {
        .recipe_image img {
            max-height: 250px;
            max-width: 173px;
        }

        .accordion-button-collapsed {
            font-size: 20px;
            width: fit-content;
            padding: 0 10px;
        }

        .recipe_title h2 {
            font-size: 20px;
        }

        #recipe_url {
            margin: 0;
            font-size: 15px;
        }
    }
</style>


{% for recipe in recipes %}
<div class="recipe_header">
    <div class="recipe_title">
        <h2>{{ recipe.title }}</h2>

        <a href="{{ recipe.url }}" target="_blank" id="recipe_url">Go to recipe </a>

        <div class="accordion" id="accordionFlushExample">
            <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingOne">
                    <button class="accordion-button-collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="{{ '#one' ~ recipe.id }}" aria-expanded="false"
                        aria-controls="flush-collapseOne">
                        Ingredients
                    </button>
                </h2>
                <div id="{{ 'one' ~ recipe.id }}" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
                    data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                        {{ recipe.ingredients }}
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwo">
                    <button class="accordion-button-collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="{{ '#two' ~ recipe.id }}" aria-expanded="false"
                        aria-controls="flush-collapseTwo">
                        Instructions
                    </button>
                </h2>
                <div id="{{ 'two' ~ recipe.id }}" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
                    data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                        {{ recipe.instructions }}
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingThree">
                    <button class="accordion-button-collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="{{ '#three' ~ recipe.id }}" aria-expanded="false"
                        aria-controls="flush-collapseThree">
                        Nutrients
                    </button>
                </h2>
                <div id="{{ 'three' ~ recipe.id }}" class="accordion-collapse collapse"
                    aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                        coming soon
                    </div>
                </div>
            </div>
        </div>
        <form class="delete_button" action="/delete" method="POST">
            <button type="submit" value="{{ recipe.title }}" name="delete" class="btn btn-primary my-2">Delete</button>
        </form>
    </div>



    <div class="recipe_image">
        <img id="book_images" src="{{ recipe.img }}" class="card-img-top" alt="...">
    </div>
</div>







<p></p>
<p></p>
<hr>


{% endfor %}

{% endblock %}

<!-- <form action="/ingredients" , method="POST">
                <button href="#" class="btn btn-primary" value="{{ website.url }}" name="search_url">Add to
                    cookbook</button>
            </form> -->